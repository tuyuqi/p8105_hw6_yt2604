---
title: "HW6_P1"
author: "Yuqi Tu"
date: "November 14, 2017"
output: 
  flexdashboard::flex_dashboard:
    orientation: columns
    vertical_layout: fill

---


```{r library, message=FALSE, warning=FALSE}
library(tidyverse)
library(tidytext)
library(rvest)
library(httr)
library(haven)
library(janitor)
library(rnoaa)
library(stringr)
library(forcats)
library(viridis)
library(plotly)
library(flexdashboard)
```



```{r read and load data, message= FALSE, warning= FALSE}
instacart = read_csv("./data_hw6/instacart_train_data.csv.zip") %>%
    clean_names()
```



```{r department donut chart analysis}
department_items_ordered = summarize(group_by(instacart, department),n=n()) %>% 
  arrange(desc(n)) %>% 
  rename(number_of_item_ordered = n)


```


```{r analysis b}

```


```{r analysis c}

```








Column {data-width=500}
-----------------------------------------------------------------------

### Chart A

```{r department donut chart plot }
donut_chart = department_items_ordered %>% 
  mutate(text_label = str_c("Number of Items Ordered:", number_of_item_ordered)) %>%
  plot_ly(labels = ~department, values = ~number_of_item_ordered) %>% 
  add_pie(hole = 0.4) %>% 
  layout(title = "The Number of Items Ordered within Each Department", showlegend = T,
         xaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE), 
         yaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE))
donut_chart

# In New York City, online grocery service is popular for people to shop online from local stores. Among 21 departments of food in grocery shops, produce (29.5%), dairy eggs(15.7%), snacks(8.58%), beverages(8.24%) and forzen (7.25%) departments have much more ordered items than other department, while bulk (0.13%), pets(0.32%), and alcohol(0.40%) department have much fewer ordered items. 


```

Column {data-width=350}
-----------------------------------------------------------------------

### Chart B

```{r plot B}

```

### Chart C

```{r plot C}

```



